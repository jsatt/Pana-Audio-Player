Guidelines for Hacking Pana

The current source is here: https://github.com/lwh/Pana-Audio-Player

Patches are very very welcome. As are bug reports on problems with functionality.
It is our goal to retain all existing functions but as we are not using all the
options in the program, it makes testing hard. Especially for portable players -
so if something acts up please tell us. Please run diffs against trunk or make a note
of which source version you used.

You must agree any patches you send are under GPLv2, or GPLv2 or later - it will depend
on the source file(s) you have patched. GPLv2+ is preferred in case we ever try to
switch to a newer version. For the docs folder the content is licensed under GFDL 1.3
or laterPlease provide your name and the date, and indicate whether you want the file
(c) you and/or FSF. If you add yourself to the top notices don't modify the other
notices even if they are written poorly or don't make sense - they may be left that
way intentionally.

http://pana.bunnies.net/ . pana@bunnies.net accepts comments, bug reports,
suggestions, patches.


Code guidelines:

* Tabs, not spaces.
* Indentation is 1 tab
* For pointer and reference variable declarations put a space between the type
  and the * or & and no space before the variable name.
* For all language constructs except function and class definitions, put the
  { on the same line please. (This is flexible).
* Functions and class definitions must have their { on the next line.
* A function implementation's return type is on its own line.

Header includes should be listed in the following order:
	- Pana includes
	- KDE includes
	- Qt includes

They should also be sorted alphabetically. Comments on references or reasoning are okay.

Includes in a header file should be kept to the absolute minimum, to reduce compile times.
This can be achieved by using "forward declarations" instead of includes, like
"class QListView;" Forward declarations work for pointers and const references.


Comments
--------
Comment your code. Explain hacks and workarounds. Explain classes and functions.
Provide a description of what a file is for at the beginning.


Header Formatting
-----------------
General rules apply here.  Please keep header function definitions aligned nicely,
if possible.  It helps greatly when looking through the code.  Sorted methods,
either by name or by their function (ie, group all related methods together) is
great too.


Debugging
---------
debug.h contains some handy functions for our debug console output.
Please use them instead of kdDebug().

Usage:

 | #include "debug.h"
 |
 | debug()   << "Something is happening" << endl;
 | warning() << "Something bad may happen" << endl;
 | error()   << "Something bad did happen!" << endl;

Additionally, there are some macros for debugging functions:

DEBUG_BLOCK
DEBUG_FUNC_INFO
DEBUG_LINE_INFO
DEBUG_INDENT
DEBUG_UNINDENT

PANA_NOTIMPLEMENTED
PANA_DEPRECATED

threadweaver.h has two additional macros:
DEBUG_THREAD_FUNC_INFO outputs the memory address of the current QThread or 'none'
    if its the original GUI thread.
SHOULD_BE_GUI outputs a warning message if it occurs in a thread that isn't in
    the original "GUI Thread", otherwise it is silent. Useful for documenting
    functions and to prevent problems in the future.


Errors & Asserts
----------------
Never use assert() or fatal(). There must be a better option than crashing a user's
application (its not uncommon for end-users to have debugging enabled).

*KMessageBox is fine to use to prompt the user, but do not use it to display errors
or informational messages. Instead, KDE::StatusBar has a few handy methods. Refer to
pana/src/statusbar/statusBarBase.h
